@if (album$ | async; as album) {
  <div class="detail-container">
    <div class="left-column">
      <img [src]="album.coverImageUrl" [alt]="album.title" class="album-cover-large">
      <h2>{{ album.title }}</h2>
      <h3>{{ album.artist.name }}</h3>
      <p>{{ album.releaseYear }}</p>
    </div>

    <div class="right-column">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Tracklist</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            @for (track of album.tracks; track track.id) {
              <mat-list-item>
                <span matListItemLine>{{ track.number }}. {{ track.title }}</span>
              </mat-list-item>
            } @empty {
              <p>Tracklist não cadastrada.</p>
            }
          </mat-list>
        </mat-card-content>
      </mat-card>

      <mat-card class="review-section">
        <mat-card-header>
          <mat-card-title>Sua Avaliação</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="reviewForm" (ngSubmit)="onSubmitReview()">
            <mat-form-field appearance="outline">
              <mat-label>Nota (1-10)</mat-label>
              <input matInput formControlName="overallRating" type="number" min="1" max="10">
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Sua resenha</mat-label>
              <textarea matInput formControlName="reviewText" rows="5"></textarea>
            </mat-form-field>

            <button mat-raised-button color="primary" type="submit" [disabled]="reviewForm.invalid">
              Salvar Avaliação
            </button>
          </form>
        </mat-card-content>
      </mat-card>
      </div>
  </div>
} @else {
  }